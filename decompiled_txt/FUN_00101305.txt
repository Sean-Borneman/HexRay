Function: FUN_00101305
Address: 00101305
Size: 427 bytes
============================================================


int FUN_00101305(void)

{
  int iVar1;
  long in_FS_OFFSET;
  int local_3c;
  int local_38;
  int local_34;
  int local_30;
  int local_2c;
  int aiStack_28 [6];
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_3c = 0;
  while (local_3c == 0) {
    for (local_38 = 0; local_38 < 5; local_38 = local_38 + 1) {
      iVar1 = rand();
      aiStack_28[local_38] = iVar1 % 9;
      local_3c = local_3c + aiStack_28[local_38];
    }
  }
  local_34 = 0;
  do {
    if (4 < local_34) {
      puts(":Calibration success");
      puts("!");
      fflush(stdout);
      local_3c = local_3c + 0xc;
LAB_0010149a:
      if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      return local_3c;
    }
    printf(":Calibrating (%d/5)...\n",(ulong)(local_34 + 1));
    putchar(0x3e);
    for (local_30 = 0; local_30 <= local_34; local_30 = local_30 + 1) {
      putchar(aiStack_28[local_30] + 0x31);
    }
    putchar(10);
    fflush(stdout);
    for (local_2c = 0; local_2c <= local_34; local_2c = local_2c + 1) {
      iVar1 = getchar();
      if ((char)iVar1 == -1) {
                    /* WARNING: Subroutine does not return */
        exit(0);
      }
      if ((int)(char)((char)iVar1 + -0x31) != aiStack_28[local_2c]) {
        puts(":Calibration failure");
        fflush(stdout);
        local_3c = 0;
        goto LAB_0010149a;
      }
    }
    local_34 = local_34 + 1;
  } while( true );
}

